### **669. 修剪二叉搜索树**

------

#### **题目解析**

给定一个二叉搜索树（BST）的根节点 `root`，以及最小边界 `low` 和最大边界 `high`，需要通过修剪操作使得所有节点的值在 `[low, high]` 范围内。

- **二叉搜索树的性质**：
   左子树节点值 < 根节点值 < 右子树节点值。
- 修剪要求：
  - 移除所有小于 `low` 的节点。
  - 移除所有大于 `high` 的节点。
  - 修剪后的树需要保留二叉搜索树的性质。

------

#### **解题思路**

1. **递归实现修剪操作**：

   - 如果当前节点值小于 

     ```
     low
     ```

     ：

     - 当前节点和其左子树都不符合要求，返回修剪后的右子树。

   - 如果当前节点值大于 

     ```
     high
     ```

     ：

     - 当前节点和其右子树都不符合要求，返回修剪后的左子树。

   - 如果当前节点值在 

     ```
     [low, high]
     ```

      范围内：

     - 递归修剪当前节点的左右子树，并重新连接。

2. **递归出口**：

   - 当节点为 `null` 时，直接返回 `null`。

------

#### **代码实现**

```java
class Solution {
    public TreeNode trimBST(TreeNode root, int low, int high) {
        // 如果当前节点为空，返回null
        if (root == null) {
            return null;
        }

        // 当前节点值小于low，修剪左子树，返回修剪后的右子树
        if (root.val < low) {
            return trimBST(root.right, low, high);
        }

        // 当前节点值大于high，修剪右子树，返回修剪后的左子树
        if (root.val > high) {
            return trimBST(root.left, low, high);
        }

        // 当前节点值在[low, high]范围内，递归修剪左右子树
        root.left = trimBST(root.left, low, high);
        root.right = trimBST(root.right, low, high);

        // 返回当前节点
        return root;
    }
}
```

------

#### **复杂度分析**

1. 时间复杂度：O(n)
   - 每个节点最多访问一次，因此时间复杂度为 O(n)，其中 n 是树中节点的数量。
2. 空间复杂度：O(h)
   - 递归调用的栈空间与树的高度 h 成正比，最坏情况下（链状树）为 O(n)，平均情况下为 O(log n)。

------

#### **题目总结**

- **修剪逻辑清晰**：通过二叉搜索树的性质，判断节点与边界 `low` 和 `high` 的关系，选择性修剪子树。
- **递归实现**：用递归方式实现节点修剪，代码简洁优雅。
- **结果唯一**：由于二叉搜索树的结构特性和题目条件的约束（节点值唯一），修剪后的树结构是唯一的。

------

#### **测试示例**

##### **示例 1**

**输入**：

```
root = [3,0,4,null,2,null,null,1], low = 1, high = 3
```

**输出**：

```
[3,2,null,1]
```

**解释**： 初始树：

```
      3
     / \
    0   4
     \
      2
     /
    1
```

修剪后：

```
      3
     /
    2
   /
  1
```

##### **示例 2**

**输入**：

```
root = [1], low = 1, high = 2
```

**输出**：

```
[1]
```

**解释**： 树只有一个节点 `1`，它在 `[1, 2]` 范围内，无需修剪。

##### **示例 3**

**输入**：

```
root = [1,null,2], low = 2, high = 4
```

**输出**：

```
[2]
```

**解释**： 初始树：

```
    1
     \
      2
```

修剪后：

```
    2
```